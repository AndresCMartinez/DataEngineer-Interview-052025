# DataEngineer-Interview-052025

# Create a summary of the project
## Project Summary
The project is a data pipeline that extracts data from a public API, transforms it, and save it as a CSV. The pipeline is implemented in Python and uses the `aiohttp` and `asyncio` library for asynchronous HTTP requests, `pandas` for data manipulation, and `re` for data cleaning. The pipeline is designed to be modular, well commented, and easy to read, with clear separation of concerns between the different stages of the ETL process.

Repository link: [click here](https://github.com/AndresCMartinez/DataEngineer-Interview-052025.git) 
    

## Repository structure:
```
.
├── data
│   ├── raw_films_data.csv -- generated by main.py
│   ├── stage_films_data.csv -- generated by main.py
├── src
│   ├── constants.py
│   ├── rest_calls.py
│   ├── data_extraction.py
│   ├── data_cleaning.py
├── main.py
├── data_validation.ipynb
├── pyproject.toml
├── poetry.lock
├── README.md
├── LICENSE
├── .gitignore
```

## Assumptions and comments
1. The code is written in Python 3.11
2. The code is written in a functional programming style and modular way
3. The code is written in a way that is easy to read and understand, well commented
4. The code is formatted using `ruff`
5. The data is extracted asynchronously using `aiohttp` and `asyncio`, to reduce requests time from 3min to 1sec
6. The libraries are managed by `poetry`, and can be seen in the `pyproject.toml` file
7. All the code implemented in the `./src` folder and `main.py` file was analized and tested before in `data_validation.ipynb` notebook
8. Columns are cleaned with regular expressions
9. The budget column is cleaned base on the following rules:
    - Quanty and text: `$25 million` -> `25,000,000`
    - Only quantity: $800,000 -> `800,000`
    - Diferent currencies -> (Conversion taken in 2025-05)
      - $ -> Dollar
      - ₤ -> Euros -> 1.2 Dollars
      - £ -> Pounds -> 1.32 Dollars
10. The implemention includes a logging system to track the progress of the pipeline

## Instructions to run the code
### 1. Clone the repository
- `git clone https://github.com/AndresCMartinez/DataEngineer-Interview-052025.git`
### 2. Navigate to the directory
- `cd DataEngineer-Interview-052025`
### 3. Install the required libraries
- `poetry env activate` -- It will give you the path to the virtual environment, sth like below
- `source ../Library/Caches/pypoetry/virtualenvs/interview-libraries-mxcwlasx-py3.11/bin/activate` -- It will activate the virtual environment
### 4. Install the dependencies
- `poetry install --no-root` -- It will install the dependencies in the virtual environment
### 5. Run the linter
- `ruff format --line-length 80` . -- It will run the linter and format the code
- `ruff check --fix` . -- It will solve any issues found by the linter
### 6. Run the code
- `python main.py` -- It will run the code and save the outputs in the `data` folder

